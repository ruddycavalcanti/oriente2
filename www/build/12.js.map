{"version":3,"sources":["../../src/pages/add-edit-musicas/add-edit-musicas.module.ts","../../src/providers/musicas-services.ts","../../src/models/musica.ts","../../src/pages/add-edit-musicas/add-edit-musicas.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddEditMusicaPage } from './add-edit-musicas';\nimport { MusicasServices} from '../../providers/musicas-services';\n\n@NgModule({\n    declarations: [\n      AddEditMusicaPage,\n    ],\n    imports: [\n      IonicPageModule.forChild(AddEditMusicaPage),\n    ],\n    entryComponents: [\n      AddEditMusicaPage\n    ],\n    providers:[\n      MusicasServices\n    ]\n  })\n  export class AddEditMusicaPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-edit-musicas/add-edit-musicas.module.ts","import { Injectable } from '@angular/core';\n\nimport * as firebase from 'firebase/app';\n\nimport {  AngularFireDatabase } from 'angularfire2/database';\n\n\n\nimport { Musica } from '../models/musica';\n\n\n\n@Injectable()\nexport class MusicasServices {\n\n \n\n  constructor(\n   private dbFire:AngularFireDatabase){\n\n   }\n\n    listar(){\n     \n       return this.dbFire.list('musicas').valueChanges();\n    }\n\n\n\n\n    savePost(\n      post_uid,\n      post_nome,\n      musica_url,\n      post_image,\n      post_artista\n     \n    ){\n  \n      return this.dbFire.database.ref(\"musicas/\"  + post_uid)\n      .update(  new Musica(\n        post_uid,\n         post_nome,\n          musica_url,\n          post_image,\n          post_artista\n         ));\n      \n  \n  \n    }\n  \n\n\n\n\n  removePost( post_uid){\n\n    return this.dbFire.list(\"/musicas/\" +  post_uid).remove();\n    \n    \n  }\n\n\n  uploadPhotoStorage(post_image , post_uid){\n\n\n    let storageRef = firebase.storage().ref();\n\n    const imageRef = storageRef.child('images/musicas/'+post_uid+'.jpg');\n\n    return  imageRef.putString(post_image, firebase.storage.StringFormat.DATA_URL);\n\n  }\n\n  removePhotoStorage(post_uid){\n    let storageRef = firebase.storage().ref();\n\n    return storageRef.child('images/musicas/'+post_uid+'.jpg').delete();\n\n\n  }\n  \n  updatePhotoDb(post_image , post_uid){\n\n   return  this.dbFire.database.ref(\"musicas/\"+  post_uid).update({ \n      post_image: post_image\n     });\n\n  }\n\n\n\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/musicas-services.ts","\nexport  class Musica {\n\n  \n\n   constructor(\n   public post_uid:string,\n    public post_name:string,\n    public musica_url:string,\n    public  post_image:string,\n    public post_artista:string\n  ){}\n\n  set_post_name(post_name){\n    this.post_name = post_name;\n  }\n\n  get_post_name(){\n    return this.post_name;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/musica.ts","import { Component, ViewChild} from '@angular/core';\nimport { NavController, ToastController,  ActionSheetController, LoadingController, NavParams, AlertController, ViewController, IonicPage } from 'ionic-angular';\n\n\nimport { NgForm } from '@angular/forms';\nimport { AuthProvider } from '../../providers/auth-provider';\n\n\nimport {  AngularFireDatabase } from 'angularfire2/database';\n\n\n\nimport { AngularFireAuth } from 'angularfire2/auth';\n\nimport { MusicasServices} from '../../providers/musicas-services';\nimport { Camera } from '@ionic-native/camera';\n\n@IonicPage({\n\tname: 'edit-musicas',\n  segment: 'edit-musicas'\n  }) \n@Component({\n  selector: 'page-add-edit-musicas',\n  templateUrl: 'add-edit-musicas.html'\n})\nexport class AddEditMusicaPage   {\n\n\n  @ViewChild('fileInput') fileInput;\n\n  \n\n post:any;\n  post_name:any;\n  musica_url:any;\n  post_content:any;\n  post_uid:any;\n  post_artista:any;\n  title:any;\n\n\n\n   email2 :any;\n\n\n   captureDataUrl:any;\n   actionAddPhoto:any;\n\n  is_edit:any;\n\n  \n  user_notificacao: boolean;\n\n  loading:any;\n\n  post_image:any;\n  \n  constructor(public navCtrl: NavController,\n    public navParams:NavParams,\n     public toastCtrl:ToastController , \n    public dbFire: AngularFireDatabase,\n    public navParms : NavParams,\n    public authProvider:AuthProvider,\n    public actionSheetCtrl: ActionSheetController,\n  public afAuth:AngularFireAuth,\n  public loadingCtrl: LoadingController,\npublic alertCtrl:AlertController,\npublic musicaServices:MusicasServices,\npublic viewCtrl:ViewController,\npublic camera:Camera\n) {\n\n   \n\n  }\n\n\n\n  ionViewDidLoad(){\n\n  \n\n    this.post_image = \"assets/imgs/noImage.jpg\";\n\n    this.is_edit = this.navParms.get(\"is_edit\");\n    if(this.is_edit ==true){\n\n        \n      this.title = \"Edit \";\n\n\n\n      this.post = this.navParams.get('post');\n      this.post_name =  this.post.post_name;\n      this.musica_url =   this.post.musica_url;\n      this.post_content = this.post.post_content;\n     // this.post_artista = this.post.post_artista;\n      this.post_uid = this.post.post_uid;\n\n\n      \n\n\n    }else{\n\n      this.title = \"Add Música\";\n        this.post_uid = this.dbFire.database.ref().child('shows/').push().key;\n    \n\n        \n\n    }\n\n    \n\n\n\n    this.loading = this.loadingCtrl.create({\n\t\t\tcontent: 'Please, wait...',\n\t\t\tduration: 5000\n    });\n    \n  \n\n    \n  }\n\n  createToast(message){\n    this.toastCtrl.create({\n      message: message,\n      duration: 5000,\n      position: 'middle'\n      }).present();\n  }\n  \n\n\n\n\n  createActionAddPhoto(){\n    this.actionAddPhoto = this.actionSheetCtrl.create({\n      title: 'Tirar Foto',\n      buttons: [\n        {\n          text: 'Escolher uma foto da galeria',\n          handler: () => {\n            this.getPicture(this.camera.PictureSourceType.PHOTOLIBRARY);\n          }\n        },\n        {\n          text: 'Tirar uma foto da Camera',\n          handler: () => {\n            this.getPicture(this.camera.PictureSourceType.CAMERA);\n          }\n        },\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n  \n    this.actionAddPhoto.present();\n  }\n\n    \naddPhoto() {\n  \n\n  this.createActionAddPhoto();\n\n}\n\n\n\n\n getPicture(sourceType) {\n\n\n        if (Camera['installed']()) {\n          this.camera.getPicture({\n            destinationType: this.camera.DestinationType.DATA_URL,\n            encodingType: this.camera.EncodingType.JPEG,\n            mediaType: this.camera.MediaType.PICTURE,\n            sourceType: sourceType,\n            targetWidth: 100,\n            targetHeight: 100,\n             quality: 90,\n             allowEdit: true,\n             correctOrientation:true\n          }).then((imageData) => {\n\n          \n\n            this.captureDataUrl = 'data:image/jpeg;base64,' + imageData;\n            this.post_image =  'data:image/jpeg;base64,' + imageData;\n            this.actionAddPhoto.dismiss();\n            \n            \n          }, (error) => {\n            this.createToast(error);\n          })\n        } else {\n          this.fileInput.nativeElement.click();\n          // go to processWebImage method. //  ir para o método processWebImage\n\n        }\n   \n  }\n\n\n\n\n\n  processWebImage(event) {\n  \n    let reader = new FileReader();\n    reader.onloadend = (readerEvent) => {\n\n        let imageData = (readerEvent.target as any).result;\n\n          this.captureDataUrl = imageData;\n        this.post_image = imageData;\n\n        this.actionAddPhoto.dismiss();\n\n    }\n\n    reader.readAsDataURL(event.target.files[0]);\n\n  }\n\n\n  saveImageFirebase(imageData){\n\n    this.musicaServices.uploadPhotoStorage(imageData,this.post_uid).then(result=>{\n\n      this.musicaServices.updatePhotoDb(result.downloadURL,this.post_uid).then(result=>{\n\n\n        this.loading.dismiss();\n        this.createToast(\"Informação atualizada com sucesso.\");\n         this.navCtrl.setRoot(\"home\");\n\n\n        }).catch(error=>{\n          this.loading.dismiss();\n          this.createToast(error);\n        });\n\n\n    }).catch(error=>{\n      this.loading.dismiss();\n      this.createToast(error);\n    });\n\n  }\n\n\n  salvarEdit(form: NgForm){\n\n    \n    let  post_name = form.value.post_name;\n    let  musica_url = form.value.musica_url;\n\n\n    let artista= form.value.post_artista;\n    if(artista==''){\n      artista= \"Oriente\";\n    }\n\n    this.loading.present();\n\n\n    this.musicaServices.savePost(\n      this.post_uid,\n      post_name,\n      musica_url,\n      this.post_image,\n      artista\n\n    ).then(result=>{\n\n      if(this.captureDataUrl!=undefined){\n        this.saveImageFirebase( this.post_image);\n      }else{\n        this.loading.dismiss();\n        this.createToast(\"Informação atualizada com sucesso.\");\n       this.navCtrl.setRoot(\"home\");\n      }\n      \n   \n\n    }).catch(error=>{\n      this.loading.dismiss();\n      this.createToast(error);\n    });\n\n\n\n  }\n\n\n\n\napagar() {\n\n \n  let confirmarRemocao = this.toastCtrl.create({\n    message: 'Post removido com sucesso.',\n    duration: 3000,\n    position: 'middle'\n  });\n\n\n  let alert = this.alertCtrl.create({\n    title: 'Remover Musica',\n    message: 'Tem certeza que deseja remover a música ' + this.post_name +'?',\n    buttons: [\n      {\n        text: 'Cancelar',\n        role: 'cancel',\n        handler: () => {\n          //console.log('Cancel clicked');\n        }\n      },\n      {\n        text: 'Remover',\n        handler: () => {\n\n          this.musicaServices.removePost( this.post_uid).then(result=>{\n           \n            // categoriaRemove.remove().then(result=> {\n              confirmarRemocao.present();\n              this.navCtrl.setRoot(\"home\");\n\n              this.musicaServices.removePhotoStorage(this.post_uid).catch(error=>{\n      \n              });\n\n         // });\n          }).catch(error=>{\n            this.createToast(error);\n          });\n           \n           \n\n        }\n      }\n    ]\n  });\n  alert.present();\n  \n}\n\n\ndismiss(){\n  this.viewCtrl.dismiss();\n}\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-edit-musicas/add-edit-musicas.ts"],"sourceRoot":""}