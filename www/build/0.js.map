{"version":3,"sources":["../../src/pages/category-videos/category-videos.module.ts","../../src/providers/videos-services.ts","../../src/models/video.ts","../../src/pages/category-videos/category-videos.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CategoryVideosPage } from './category-videos';\nimport { VideosServices } from '../../providers/videos-services';\n\n@NgModule({\n    declarations: [\n      CategoryVideosPage,\n    ],\n    imports: [\n      IonicPageModule.forChild(CategoryVideosPage),\n    ],\n    entryComponents: [\n      CategoryVideosPage\n    ],\n    providers:[\n      VideosServices\n    ]\n  })\n  export class CategoryVideosPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/category-videos/category-videos.module.ts","import { Injectable } from '@angular/core';\n\nimport * as firebase from 'firebase/app';\n\nimport {  AngularFireDatabase } from 'angularfire2/database';\n\n\n\nimport { Video } from '../models/video';\n\n\nimport {  Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class VideosServices {\n\n  apiKeyYoutube = 'AIzaSyDJ9MvWTW_zwMXqoqYZBEBRY0AMYiaM75E';\n  channelId :any; \n\n constructor(\n   private dbFire:AngularFireDatabase, public http:Http){\n\n   } \n\n\n    listar(){\n\n       return  this.dbFire.list('/videos/'  ).valueChanges().map((array)=>array.reverse())\n    }\n\n\n  savePost(\n    post_uid,\n    post_nome,\n    post_conteudo,\n    post_image,\n    video_url,\n    post_description\n   \n  ){\n\n    return this.dbFire.database.ref(\"videos/\"  + post_uid)\n    .update(  new Video(\n      post_uid,\n       post_nome,\n        post_conteudo,\n        post_image,\n        video_url,\n        post_description\n       ));\n    \n\n\n  }\n\n\n  getPlaylistsForChannel(channel) {\n\n\n        return this.http.get('https://www.googleapis.com/youtube/v3/playlists?key=' + this.apiKeyYoutube + '&channelId=' + channel + '&part=snippet,id,status&maxResults=30')\n        .map((res) => {\n         console.log(res.json()['items']);\n         return res.json()['items'];\n       })\n\n  }\n\n  getListVideos(listId) {\n    return this.http.get('https://www.googleapis.com/youtube/v3/playlistItems?key=' + this.apiKeyYoutube + '&playlistId=' + listId + '&part=snippet,id,status&maxResults=30')\n     .map((res) => {\n      console.log(res.json()['items']);\n      return res.json()['items'];\n    })\n  }\n\n\n  removePost( post_uid){\n    return this.dbFire.list(\"/videos/\" +  post_uid).remove();\n  }\n\n\n  uploadPhotoStorage(post_image , post_uid){\n\n\n    let storageRef = firebase.storage().ref();\n\n    const imageRef = storageRef.child('images/videos/'+post_uid+'.jpg');\n\n    return  imageRef.putString(post_image, firebase.storage.StringFormat.DATA_URL);\n\n  }\n\n  removePhotoStorage(post_uid){\n    let storageRef = firebase.storage().ref();\n\n    return storageRef.child('images/videos/'+post_uid+'.jpg').delete();\n\n\n  }\n  \n  updatePhotoDb(post_image , post_uid){\n\n   return  this.dbFire.database.ref(\"videos/\"+  post_uid).update({ \n      post_image: post_image\n     });\n\n  }\n\n\n\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/videos-services.ts","\nexport  class Video {\n\n  \n\n   constructor(\n   public post_uid:string,\n    public post_name:string,\n   public post_content:string,\n   public  post_image:string,\n   public video_url:string,\n   public post_description:string\n\n  ){}\n\n  set_post_name(post_name){\n    this.post_name = post_name;\n  }\n\n  get_post_name(){\n    return this.post_name;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/video.ts"," import { Component } from '@angular/core';\nimport { NavController, NavParams, IonicPage } from 'ionic-angular';\n\n\n\nimport { VideosServices} from '../../providers/videos-services';\n\nimport { Storage } from '@ionic/storage';\n\n  \nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { AngularFireDatabase } from 'angularfire2/database';\n\n\n@IonicPage({\n\tname: 'videos',\n  segment: 'videos'\n  }) \n  \n  @Component({\n    selector: 'category-videos',\n    templateUrl: 'category-videos.html'\n  })\n export class CategoryVideosPage {\n\n\n\n        posts:any;\n        playlists:any;\n\n        is_admin:any =true;\n\n        origem:any;\n        listId:any;\n\n\n        tituloPlaylist = true;\n        titulo:any;\n      \n        constructor(public navCtrl: NavController,\n           public videoServices:VideosServices,\n          public storage:Storage,\n          public http: Http,\n        public dbFire:AngularFireDatabase,\n      public navParms:NavParams) {\n          \n        }\n      \n      \n      \n        ionViewWillEnter() {\n      \n          this.user_is_admin();\n          \n          this.origem = this.navParms.get('origem');\n          this.listId = this.navParms.get('listId');\n\n          this.titulo = \"Vídeos\";\n          \n\n          if(this.origem == \"playlists\"){\n            this.playlists = this.videoServices.getListVideos(this.listId);\n            this.tituloPlaylist = false;\n            this.titulo = this.navParms.get('post').snippet.title;\n          }else{\n\n\n            this.dbFire.database.ref(\"/config\").once( \"value\").then(snapshot=> {\n    \n              if(snapshot.val() !=null){\n                this.playlists = this.videoServices.getPlaylistsForChannel(snapshot.val().youtubeUrl);\n              }\n        \n            }).catch(error => {\n            });\n\n            this.posts =  this.videoServices.listar();\n\n          }\n\n          \n        }\n\n      \n      \n      \n        user_is_admin(){\n          this.storage.get('is_admin').then((is_admin) => {\n            if(is_admin==true)\n              this.is_admin = true;\n            });\n        }\n      \n       \n      \n      \n      \n        irParaSingle(event, post){\n          this.navCtrl.push(\"video\", { \n            'id': post.post_uid,\n            post:post\n          });\n        }\n\n\n        irParaVideo(event, post, listId){\n\n          if(this.origem == \"playlists\"){\n            this.navCtrl.push(\"video\", { \n              id:post.post_uid,\n              post:post,\n              origem:'playlists'\n            });\n          }else{\n            this.navCtrl.push(\"videos\", { \n              post:post,\n              listId:listId,\n              origem:'playlists'\n            });\n          }\n\n        }\n\n      \n        irParaAdd(){\n          this.navCtrl.push(\"edit-videos\");\n        }\n      \n      }\n      \n\n\n// WEBPACK FOOTER //\n// ./src/pages/category-videos/category-videos.ts"],"sourceRoot":""}