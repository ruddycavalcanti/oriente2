{"version":3,"sources":["../../src/pages/category-noticias/category-noticias.module.ts","../../src/providers/noticias-services.ts","../../src/models/noticia.ts","../../src/pages/category-noticias/category-noticias.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACW;AAEU;AAgBnE;IAAA;IAAyC,CAAC;IAA7B,0BAA0B;QAdxC,uEAAQ,CAAC;YACN,YAAY,EAAE;gBACZ,gFAAoB;aACrB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,gFAAoB,CAAC;aAC/C;YACD,eAAe,EAAE;gBACf,gFAAoB;aACrB;YACD,SAAS,EAAC;gBACR,sFAAgB;aACjB;SACF,CAAC;OACW,0BAA0B,CAAG;IAAD,iCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;ACpBE;AAEF;AAEoB;AAEtB;AAGK;AAK5C;IAIE,0BACS,MAA0B,EAAa,KAAW;QAAlD,WAAM,GAAN,MAAM,CAAoB;QAAa,UAAK,GAAL,KAAK,CAAM;IAE1D,CAAC;IAEA,iCAAM,GAAN;QAEG,qDAAqD;QACrD,MAAM,CAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAG,CAAC,YAAY,EAAE,CAAC,GAAG,CAAC,UAAC,KAAK,IAAG,YAAK,CAAC,OAAO,EAAE,EAAf,CAAe,CAAC;IACxF,CAAC;IAKH,mCAAQ,GAAR,UACE,QAAQ,EACR,SAAS,EACT,SAAS,EACT,gBAAgB,EAChB,aAAa,EACb,UAAU,EACV,OAAO;QAGP,EAAE,EAAC,OAAO,IAAI,IAAI,CAAC,EAAC;YAClB,SAAS,GAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;QAClC,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,GAAI,QAAQ,CAAC;aACvD,MAAM,CAAG,IAAI,gEAAO,CACnB,QAAQ,EACR,SAAS,EACT,SAAS,EACP,aAAa,EACb,UAAU,EACV,gBAAgB,CAChB,CAAC,CAAC;IAIR,CAAC;IAKD,qCAAU,GAAV,UAAY,QAAQ;QAElB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,GAAI,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC;IAG7D,CAAC;IAGD,6CAAkB,GAAlB,UAAmB,UAAU,EAAG,QAAQ;QAGtC,IAAI,UAAU,GAAG,qDAAgB,EAAE,CAAC,GAAG,EAAE,CAAC;QAE1C,IAAM,QAAQ,GAAG,UAAU,CAAC,KAAK,CAAC,kBAAkB,GAAC,QAAQ,GAAC,MAAM,CAAC,CAAC;QAEtE,MAAM,CAAE,QAAQ,CAAC,SAAS,CAAC,UAAU,EAAE,qDAAgB,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;IAEjF,CAAC;IAED,6CAAkB,GAAlB,UAAmB,QAAQ;QACzB,IAAI,UAAU,GAAG,qDAAgB,EAAE,CAAC,GAAG,EAAE,CAAC;QAE1C,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,kBAAkB,GAAC,QAAQ,GAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC;IAGvE,CAAC;IAED,wCAAa,GAAb,UAAc,UAAU,EAAG,QAAQ;QAElC,MAAM,CAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,GAAG,QAAQ,CAAC,CAAC,MAAM,CAAC;YAC7D,UAAU,EAAE,UAAU;SACtB,CAAC,CAAC;IAEN,CAAC;IAlFU,gBAAgB;QAD5B,yEAAU,EAAE;yCAMK,kFAAmB,EAAmB,2DAAK;OALhD,gBAAgB,CAwF5B;IAAD,uBAAC;CAAA;AAxF4B;;;;;;;;;ACb7B;AAAA;IAIG,iBACO,QAAe,EACf,SAAgB,EACf,SAAgB,EACjB,YAAmB,EAClB,UAAiB,EAClB,gBAAuB;QALvB,aAAQ,GAAR,QAAQ,CAAO;QACf,cAAS,GAAT,SAAS,CAAO;QACf,cAAS,GAAT,SAAS,CAAO;QACjB,iBAAY,GAAZ,YAAY,CAAO;QAClB,eAAU,GAAV,UAAU,CAAO;QAClB,qBAAgB,GAAhB,gBAAgB,CAAO;IAE7B,CAAC;IAEH,+BAAa,GAAb,UAAc,SAAS;QACrB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC7B,CAAC;IAED,+BAAa,GAAb;QACE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAEH,cAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACvByC;AACI;AAEsB;AAE3B;AAOzC;IAME,8BAAmB,OAAsB,EAC/B,eAAgC,EACjC,OAAe;QAFL,YAAO,GAAP,OAAO,CAAe;QAC/B,oBAAe,GAAf,eAAe,CAAiB;QACjC,YAAO,GAAP,OAAO,CAAQ;QAJxB,aAAQ,GAAM,IAAI,CAAC;IAKnB,CAAC;IAED,+CAAgB,GAAhB;QAEE,IAAI,CAAC,QAAQ,EAAE,CAAC;QAEhB,IAAI,CAAC,aAAa,EAAE,CAAC;IAEvB,CAAC;IAID,4CAAa,GAAb;QAAA,iBAKC;QAJC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,QAAQ;YACzC,EAAE,EAAC,QAAQ,IAAE,IAAI,CAAC;gBAChB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACvB,CAAC,CAAC,CAAC;IACP,CAAC;IAGD,uCAAQ,GAAR;QACE,IAAI,CAAC,KAAK,GAAI,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;IAC9C,CAAC;IAID,2CAAY,GAAZ,UAAa,KAAK,EAAE,IAAI;QACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,EAAE;YAC3B,IAAI,EAAC,IAAI,CAAC,QAAQ;YAClB,IAAI,EAAC,IAAI;SACV,CAAC,CAAC;IACL,CAAC;IAED,wCAAS,GAAT;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IACrC,CAAC;IA5CU,oBAAoB;QAJhC,wEAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;WACQ;SACtC,CAAC;mGAOyC;YACf,iEAAgB;YACzB,OAAO;OARb,oBAAoB,CA8ChC;IAAD,CAAC;AAAA;SA9CY,oBAAoB,gB","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CategoryNoticiasPage } from './category-noticias';\n\nimport { NoticiasServices } from '../../providers/noticias-services';\n\n@NgModule({\n    declarations: [\n      CategoryNoticiasPage,\n    ],\n    imports: [\n      IonicPageModule.forChild(CategoryNoticiasPage),\n    ],\n    entryComponents: [\n      CategoryNoticiasPage\n    ],\n    providers:[\n      NoticiasServices\n    ]\n  })\n  export class CategoryNoticiasPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/category-noticias/category-noticias.module.ts","import { Injectable } from '@angular/core';\n\nimport * as firebase from 'firebase/app';\n\nimport {  AngularFireDatabase } from 'angularfire2/database';\n\nimport { Utils } from '../utils/utils';\n\n\nimport { Noticia } from '../models/noticia';\n\n\n\n@Injectable()\nexport class NoticiasServices {\n\n \n\n  constructor(\n   private dbFire:AngularFireDatabase,   private  utils:Utils){\n\n   }\n\n    listar(){\n     \n       //return this.dbFire.list('noticias').valueChanges();\n       return  this.dbFire.list('/noticias/'  ).valueChanges().map((array)=>array.reverse())\n    }\n\n\n\n\n  savePost(\n    post_uid,\n    post_date,\n    post_nome,\n    post_description,\n    post_conteudo,\n    post_image,\n    is_edit\n  ){\n\n    if(is_edit != true){ // If its a new post\n      post_date  = this.utils.getTime;\n    }\n\n    return this.dbFire.database.ref(\"noticias/\"  + post_uid)\n    .update(  new Noticia(\n      post_uid,\n      post_date,\n      post_nome,\n        post_conteudo,\n        post_image,\n        post_description,\n       ));\n    \n\n\n  }\n\n\n\n\n  removePost( post_uid){\n\n    return this.dbFire.list(\"/noticias/\" +  post_uid).remove();\n    \n    \n  }\n\n\n  uploadPhotoStorage(post_image , post_uid){\n\n\n    let storageRef = firebase.storage().ref();\n\n    const imageRef = storageRef.child('images/noticias/'+post_uid+'.jpg');\n\n    return  imageRef.putString(post_image, firebase.storage.StringFormat.DATA_URL);\n\n  }\n\n  removePhotoStorage(post_uid){\n    let storageRef = firebase.storage().ref();\n\n    return storageRef.child('images/noticias/'+post_uid+'.jpg').delete();\n\n\n  }\n  \n  updatePhotoDb(post_image , post_uid){\n\n   return  this.dbFire.database.ref(\"noticias/\"+  post_uid).update({ \n      post_image: post_image\n     });\n\n  }\n\n\n\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/noticias-services.ts","\nexport  class Noticia {\n\n  \n\n   constructor(\n   public post_uid:string,\n   public post_date:string,\n    public post_name:string,\n   public post_content:string,\n   public  post_image:string,\n   public post_description:string\n\n  ){}\n\n  set_post_name(post_name){\n    this.post_name = post_name;\n  }\n\n  get_post_name(){\n    return this.post_name;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/noticia.ts","import { Component } from '@angular/core';\nimport { NavController, IonicPage } from 'ionic-angular';\n\nimport { NoticiasServices} from '../../providers/noticias-services';\n\nimport { Storage } from '@ionic/storage';\n\n@IonicPage({\n\tname: 'noticias',\n  segment: 'noticias'\n  }) \n@Component({\n  selector: 'category-noticias',\n  templateUrl: 'category-noticias.html'\n})\nexport class CategoryNoticiasPage {\n\n  posts:any;\n\n  is_admin:any =true;\n\n  constructor(public navCtrl: NavController,\n     public noticiaServices:NoticiasServices,\n    public storage:Storage) {\n  }\n\n  ionViewWillEnter() {\n    \n    this.listando();\n\n    this.user_is_admin();\n     \n  }\n\n\n\n  user_is_admin(){\n    this.storage.get('is_admin').then((is_admin) => {\n      if(is_admin==true)\n        this.is_admin = true;\n      });\n  }\n\n\n  listando(){\n    this.posts =  this.noticiaServices.listar();\n  }\n\n\n\n  irParaSingle(event, post){\n    this.navCtrl.push(\"noticia\", { \n      'id':post.post_uid,\n      post:post\n    });\n  }\n\n  irParaAdd(){\n    this.navCtrl.push(\"edit-noticias\");\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/category-noticias/category-noticias.ts"],"sourceRoot":""}