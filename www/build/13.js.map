{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/providers/destaques-services.ts","../../src/models/destaque.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\nimport { AuthProvider } from '../../providers/auth-provider';\n\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\n\n\nimport { DestaquesServices } from '../../providers/destaques-services';\nimport { Storage, IonicStorageModule } from '@ionic/storage';\n\n\n@NgModule({\n  declarations: [\n    HomePage\n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n    IonicStorageModule.forRoot(),\n  ],\n  entryComponents: [\n    HomePage\n  ],\n  providers: [\n     AuthProvider,\n     InAppBrowser,\n     DestaquesServices\n  ]\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Injectable } from '@angular/core';\n\nimport * as firebase from 'firebase/app';\n\nimport {  AngularFireDatabase } from 'angularfire2/database';\n\n\n\nimport { Destaque } from '../models/destaque';\n\n\n\n@Injectable()\nexport class DestaquesServices {\n\n \n\n  constructor(\n   private dbFire:AngularFireDatabase){\n\n   }\n \n    listar(){\n     \n       //return this.dbFire.list('destaques').valueChanges();\n\n\n       return  this.dbFire.list('/destaques/' , \n       ref => ref.orderByChild('order') \n       ).valueChanges().map((array)=>array.reverse()  )\n\n    }\n\n\n\n  savePost(\n    action,\n    actionValue,\n    post_image,\n    desc,\n    titulo,\n    post_uid,\n    order:number\n  ){\n\n\n\n    return this.dbFire.database.ref(\"destaques/\"  + post_uid)\n    .update(  new Destaque(\n        action,\n        actionValue,\n        post_image,\n        desc,\n        titulo,\n        post_uid,\n        order\n       ));\n    \n\n\n  }\n\n\n\n\n  removePost( post_uid){\n\n    return this.dbFire.list(\"destaques/\" +  post_uid).remove();\n    \n    \n  }\n\n\n  uploadPhotoStorage(post_image , post_uid){\n\n\n    let storageRef = firebase.storage().ref();\n\n    const imageRef = storageRef.child('images/destaques/'+post_uid+'.jpg');\n\n    return  imageRef.putString(post_image, firebase.storage.StringFormat.DATA_URL);\n\n  }\n \n  removePhotoStorage(post_uid){\n    let storageRef = firebase.storage().ref();\n\n    return storageRef.child('images/destaques/'+post_uid+'.jpg').delete();\n\n\n  }\n\n  updatePhotoDb(post_image , post_uid){\n\n    return  this.dbFire.database.ref(\"destaques/\"+  post_uid).update({ \n       post_image: post_image\n      });\n \n   }\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/destaques-services.ts","\nexport  class Destaque {\n\n  \n\n   constructor(\n    public action:string,\n    public actionValue:string,\n   public post_image:string,\n   public desc:string,\n   public  titulo:string,\n   public  post_uid:string,\n   public  order:number,\n  ){}\n\n  set_actiond(action){\n    this.action = action;\n  }\n\n  get_action(){\n    return this.action;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/destaque.ts","import { Component ,ViewChild} from '@angular/core';\nimport { NavController,  IonicPage, } from 'ionic-angular';\n\n\nimport { DestaquesServices } from '../../providers/destaques-services';\nimport { Slides } from 'ionic-angular';\n\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\n\n\n \n@IonicPage({\n\tname: 'home',\n  segment: 'home'\n  })\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n  @ViewChild(Slides) slides: Slides;\n\n  posts:any;\n\n  constructor(public navCtrl: NavController, \n    public destaquesServices:DestaquesServices,\n    public iab: InAppBrowser \n) {\n\n  }\n\n\n  \n  ionViewDidLoad(){\n    this.posts =  this.destaquesServices.listar();\n\n   \n }\n\n\n\n  goToSlide() {\n    this.slides.slideTo(2, 500);\n  }\n  slideChanged() {\n    let currentIndex = this.slides.getActiveIndex();\n    console.log('Current index is', currentIndex);\n  }\n \n  irParaPerfil(post){\n      this.navCtrl.push('perfil');\n  }\n\n  irParaEdit(post){ \n \n    this.navCtrl.push(\"edit-destaques\", {\n      post:post,\n      is_edit:true\n    });\n  }\n\n\n\n  irParaNew(){\n    this.navCtrl.push(\"edit-destaques\");\n  }\n\n  \n\n   \n  irParaDestaque(actionV,action){\n   if(action==\"link\"){\n     this.openLink(actionV);\n   }else{\n     if(actionV=='agenda'){\n        this.navCtrl.push(\"shows\");\n     } \n     if(action==\"video\"){\n      this.navCtrl.push(\"video\",{\n        'id':actionV,\n        idv:actionV\n      });\n      }\n   } \n\n } \n \n\n  openLink(actionV){\n\n   const browser = this.iab.create(''+actionV, \"_blank\", \n   {zoom: 'no',\n   hidden: 'yes',\n   location:  'yes'}\n   );\n   browser.show();\n  }\n \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}