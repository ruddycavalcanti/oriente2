{"version":3,"sources":["../../src/pages/edit-profile/edit-profile.module.ts","../../src/pages/edit-profile/edit-profile.ts"],"names":[],"mappings":"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","file":"26.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditProfile } from './edit-profile';\n\n\n@NgModule({\n    declarations: [\n      EditProfile,\n    ],\n    imports: [\n      IonicPageModule.forChild(EditProfile),\n    ],\n    entryComponents: [\n      EditProfile\n    ]\n  })\n  export class EditProfileModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-profile/edit-profile.module.ts","import { Component, ViewChild} from '@angular/core';\nimport { NavController, ToastController, ActionSheetController, LoadingController, NavParams, AlertController, IonicPage } from 'ionic-angular';\n\n\nimport { NgForm } from '@angular/forms';\nimport { AuthProvider } from '../../providers/auth-provider';\n\n\nimport {  AngularFireDatabase } from 'angularfire2/database';\n\nimport { Camera , CameraOptions} from '@ionic-native/camera';\n\nimport 'firebase/storage';\n\nimport { AngularFireAuth } from 'angularfire2/auth';\n\n@IonicPage({\n  name: 'editar-perfil',\n  segment: 'editar-perfil'\n  }) \n\n@Component({\n  selector: 'page-edit-profile',\n  templateUrl: 'edit-profile.html'\n})\nexport class EditProfile   {\n\n @ViewChild('fileInput') fileInput;\n\n user_image:any;\n  captureDataUrl:any;\n  user_uid:any;\n\n  nome:any;\n  email:any;\n  user_notification: boolean;\n  user_date_created:any;\n\n  actionAddPhoto:any;\n\n  \n  user_tipo:any;\n  user_email:any;\n\n  loading:any;\n\n  is_admin:any;\n\n  pontos_atuais:any;\n  pontos_totais:any;\n  \n  constructor(public navCtrl: NavController,\n    public navParams:NavParams,\n     public toastCtrl:ToastController , \n     private camera: Camera,\n    public dbFire: AngularFireDatabase,\n    public authProvider:AuthProvider,\n    public actionSheetCtrl: ActionSheetController,\n  public afAuth:AngularFireAuth,\n  public loadingCtrl: LoadingController,\npublic alertCtrl:AlertController) {\n\n\n}\n\nionViewDidLoad(){\n\n\n      this.email = this.authProvider.currentUserEmail;\n      console.log(this.email);\n    \n       var email2 =  this.email.replace(\".\" , \",\");\n   \n\n\n      this.dbFire.database.ref(\"/users/\" + email2 ).once( \"value\").then(snapshot=> {\n\n        if(snapshot.val() != null){\n\n          console.log(snapshot.val());\n          \n          this.user_image = snapshot.val().user_photoURL;\n          if(this.user_image==\"\" || this.user_image == null){\n            this.user_image = \"assets/imgs/no_avatar.jpg\";\n          }\n\n          this.nome =   snapshot.val().user_displayName;\n          this.user_tipo = snapshot.val().user_tipo;\n\n          this.user_notification = snapshot.val().user_notify;\n\n          this.user_uid = snapshot.val().user_uid;\n\n\n      }\n\n        }).catch(error => {\n          this.createToast(error);\n        });\n\n  \n\n\n      this.loading = this.loadingCtrl.create({\n        content: 'Please, wait...',\n        duration: 5000\n      });\n\n\n     // this.getPontosAeT();\n    \n  }\n\n  /* getPontosAeT(){\n    this.pontoServices.getPontosAeT(this.authProvider.currentUserId).then(snapshot=> {\n      this.pontos_atuais = snapshot.val().pontos_atuais;\n      this.pontos_totais = snapshot.val().pontos_totais;\n    }).catch(error => {\n      this.pontos_atuais = 0;\n      this.pontos_totais = 0;\n    });\n  }\n\n\n\n\n\n  resgatePremios(form: NgForm){\n    \n    let  premio = form.value.premio;\n\n\n    let pontos_premio:any;\n\n    if(premio == \"copo\"){\n      pontos_premio = 1000;\n    }else  if(premio == \"chaveiro\"){\n      pontos_premio = 2000;\n    }else  if(premio == \"bone\"){\n      pontos_premio = 8000;\n    }\n    \n\n    if(this.pontos_atuais>=pontos_premio){\n\n      this.pontos_atuais = this.pontos_atuais - pontos_premio;\n\n\n       this.pontoServices.updatePontosAtuais(this.authProvider.currentUserId , this.pontos_atuais).then(snapshot=> {\n     \n         this.ganhouPremioAlert(premio);\n\n      }).catch(error=>{\n        this.createToast(\"Infelizmente não foi possível realizar esse resgate. Contate-nos!\");\n      });\n\n    }else{\n\n      this.createToast(\"Infelizmente você ainda não possui pontos suficientes para resgatar prêmios.\");\n    }\n\n\n  }\n\n\n\n  somarPontos(){\n    this.pontoServices.getPontosAeT(this.authProvider.currentUserId).then((result) => {\n      let pt_at = result.val().pontos_atuais;\n      let pt_tt = result.val().pontos_totais;\n      \n      console.log(result.val().pontos_atuais);\n      console.log(result.val().pontos_totais);\n\n      this.atualizarPontosDb(this.authProvider.currentUserId,pt_at,pt_tt).then((result) => {\n\n        this.ganhouPontosAlert();\n      }).catch(error=>{\n         \n      });\n\n    }).catch(error=>{\n        \n     });\n}\n\n\n\n\n\natualizarPontosDb(post_author_id, pontos_atuais,pontos_totais){\n\n  pontos_atuais = pontos_atuais + 10;\n  pontos_totais = pontos_totais + 10;\n\n  return this.pontoServices.updatePontos(post_author_id, pontos_atuais,pontos_totais);\n}\n\n\nganhouPremioAlert(nomePremio) {\n  let alert = this.alertCtrl.create({\n    title: 'Parabéns!',\n    subTitle: 'Você resgatou seus pontos pelo prêmio: ' +nomePremio,\n    cssClass: 'alertPontos alertPontos_'+nomePremio,\n    buttons: ['Fechar']\n  });\n  alert.present();\n}\n\n\n\nganhouPontosAlert() {\n  let alert = this.alertCtrl.create({\n    title: 'Parabéns!',\n    subTitle: 'Você ganhou 20 pontos.',\n    cssClass: 'alertPontos',\n    buttons: ['Fechar']\n  });\n  alert.present();\n}\n */\n\n\n\naddPhoto() {\n  this.createActionAddPhoto();\n}\n\n\ncreateActionAddPhoto(){\n  this.actionAddPhoto = this.actionSheetCtrl.create({\n    title: 'Tirar Foto',\n    buttons: [\n      {\n        text: 'Escolher Foto da Galeria',\n        handler: () => {\n          this.getFoto(this.camera.PictureSourceType.SAVEDPHOTOALBUM);\n        }\n      },\n      {\n        text: 'Tirar Foto da Camera',\n        handler: () => {\n          this.getFoto(this.camera.PictureSourceType.CAMERA);\n        }\n      },\n      {\n        text: 'Cancelar',\n        role: 'cancel',\n        handler: () => {\n          console.log('Cancel clicked');\n        }\n      }\n    ]\n  });\n\n\n  this.actionAddPhoto.present();\n}\n\n    \n\n\n\n\n\n\n getFoto(sourceType) {\n\n  const options: CameraOptions = {\n    destinationType: this.camera.DestinationType.DATA_URL,\n    encodingType: this.camera.EncodingType.JPEG,\n    mediaType: this.camera.MediaType.PICTURE,\n    sourceType: sourceType,\n    targetWidth: 100,\n    targetHeight: 100,\n     quality: 80,\n     allowEdit: true,\n     correctOrientation:true\n  }\n\n        if (Camera['installed']()) {\n          this.camera.getPicture(options).then((imageData) => {\n\n            this.captureDataUrl = 'data:image/jpeg;base64,' + imageData;\n            this.user_image =  'data:image/jpeg;base64,' + imageData;\n            this.actionAddPhoto.dismiss();\n\n\n          }, (error) => {\n            this.createToast(error);\n          })\n        } else {\n          this.fileInput.nativeElement.click();\n          // go to processWebImage method. //  ir para o método processWebImage\n\n        }\n   \n  }\n\n\n\n\n\n  processWebImage(event) {\n  \n    let reader = new FileReader();\n    reader.onloadend = (readerEvent) => {\n\n        let imageData = (readerEvent.target as any).result;\n\t\t\n        this.user_image = imageData;\n        this.captureDataUrl = imageData;\n\n        this.actionAddPhoto.dismiss();\n\n\n    };\n\n    reader.readAsDataURL(event.target.files[0]);\n\n  }\n\n\n  saveImageFirebase(imageData){\n\n    this.authProvider.uploadPhotoStorage(imageData,this.email).then(result=>{\n\n      this.authProvider.updatePhotoDb(result.downloadURL,this.email).then(result=>{\n\n\n         this.loading.dismiss();\n         this.createToast('Informarção atualizada com sucesso.');\n         this.navCtrl.setRoot(\"home\");\n\n\n        }).catch(error=>{\n          this.loading.dismiss();\n          this.createToast(error);\n        });\n\n\n    }).catch(error=>{\n      this.loading.dismiss();\n      this.createToast(error);\n    });\n\n  }\n\n\n\n\n  salvarPerfil(form: NgForm){\n    \n    let  name = form.value.nome;\n \n\n    this.loading.present();\n\n\n\n    this.authProvider.updateUserDatabase(\n        name,\n        this.email,\n        this.user_image, \n        this.user_uid,\n        this.user_notification,\n        this.user_tipo\n        ).then(result=> {\n          if(this.captureDataUrl!=undefined){\n            this.saveImageFirebase( this.user_image);\n          }else{\n            this.loading.dismiss();\n            this.createToast('Informarção atualizada com sucesso.');\n  \n\n           this.navCtrl.setRoot(\"home\");\n          }\n\n    \n        }).catch(error => {\n      \n          this.loading.dismiss();\n          this.createToast(error);\n          \n        });\n\n  }\n\n\n  alterarSenha(form: NgForm){\n\n    let  currentPass = form.value.currentPass;\n    let  newPass = form.value.newPass;\n\n\n    this.authProvider.getCredentials(this.email, currentPass).then(result =>{\n\n      this.authProvider.changePass(newPass).then(result =>{\n\n        this.createToast(\"Senha atualizada com sucesso.\");\n        this.navCtrl.setRoot(\"home\");\n\n      }).catch(error =>{\n        this.createToast(error);\n      })\n\n    }).catch(error=>{\n      this.createToast(error);\n    })\n\n    \n   \n  }\n\n\nalterarNotificacao(){\n\n\n    let email2 = this.email.replace(\".\" , \",\");\n   \n    this.dbFire.database.ref(\"users\").child(email2).update({\n    user_notify: this.user_notification\n    }).then(result=> {\n\n      this.createToast('Notificação atualizada com sucesso.');\n\n    }).catch(error=>{\n\n      this.createToast(error);\n\n  })\n\n\n}\n\n\n  \n  logout(){\n\n    this.authProvider.signOut();\n    this.navCtrl.setRoot(\"login\");\n\n    \n  }\n\n\n\n\n  createToast(message){\n    this.toastCtrl.create({\n      message: message,\n      duration: 5000,\n      position: 'middle'\n      }).present();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-profile/edit-profile.ts"],"sourceRoot":""}