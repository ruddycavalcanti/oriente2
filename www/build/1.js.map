{"version":3,"sources":["../../src/pages/add-edit-videos/add-edit-videos.module.ts","../../src/providers/videos-services.ts","../../src/models/video.ts","../../src/pages/add-edit-videos/add-edit-videos.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddEditVideoPage } from './add-edit-videos';\n\nimport { VideosServices} from '../../providers/videos-services';\n\n@NgModule({\n  declarations: [\n    AddEditVideoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddEditVideoPage),\n  ],\n  entryComponents: [\n    AddEditVideoPage\n  ],\n  providers:[\n    VideosServices\n  ]\n})\nexport class AddEditDestaquesModule {}\n  \n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-edit-videos/add-edit-videos.module.ts","import { Injectable } from '@angular/core';\n\nimport * as firebase from 'firebase/app';\n\nimport {  AngularFireDatabase } from 'angularfire2/database';\n\n\n\nimport { Video } from '../models/video';\n\n\nimport {  Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class VideosServices {\n\n  apiKeyYoutube = 'AIzaSyDJ9MvWTW_zwMXqoqYZBEBRY0AMYiaM75E';\n  channelId :any; \n\n constructor(\n   private dbFire:AngularFireDatabase, public http:Http){\n\n   } \n\n\n    listar(){\n\n       return  this.dbFire.list('/videos/'  ).valueChanges().map((array)=>array.reverse())\n    }\n\n\n  savePost(\n    post_uid,\n    post_nome,\n    post_conteudo,\n    post_image,\n    video_url,\n    post_description\n   \n  ){\n\n    return this.dbFire.database.ref(\"videos/\"  + post_uid)\n    .update(  new Video(\n      post_uid,\n       post_nome,\n        post_conteudo,\n        post_image,\n        video_url,\n        post_description\n       ));\n    \n\n\n  }\n\n\n  getPlaylistsForChannel(channel) {\n\n\n        return this.http.get('https://www.googleapis.com/youtube/v3/playlists?key=' + this.apiKeyYoutube + '&channelId=' + channel + '&part=snippet,id,status&maxResults=30')\n        .map((res) => {\n         console.log(res.json()['items']);\n         return res.json()['items'];\n       })\n\n  }\n\n  getListVideos(listId) {\n    return this.http.get('https://www.googleapis.com/youtube/v3/playlistItems?key=' + this.apiKeyYoutube + '&playlistId=' + listId + '&part=snippet,id,status&maxResults=30')\n     .map((res) => {\n      console.log(res.json()['items']);\n      return res.json()['items'];\n    })\n  }\n\n\n  removePost( post_uid){\n    return this.dbFire.list(\"/videos/\" +  post_uid).remove();\n  }\n\n\n  uploadPhotoStorage(post_image , post_uid){\n\n\n    let storageRef = firebase.storage().ref();\n\n    const imageRef = storageRef.child('images/videos/'+post_uid+'.jpg');\n\n    return  imageRef.putString(post_image, firebase.storage.StringFormat.DATA_URL);\n\n  }\n\n  removePhotoStorage(post_uid){\n    let storageRef = firebase.storage().ref();\n\n    return storageRef.child('images/videos/'+post_uid+'.jpg').delete();\n\n\n  }\n  \n  updatePhotoDb(post_image , post_uid){\n\n   return  this.dbFire.database.ref(\"videos/\"+  post_uid).update({ \n      post_image: post_image\n     });\n\n  }\n\n\n\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/videos-services.ts","\nexport  class Video {\n\n  \n\n   constructor(\n   public post_uid:string,\n    public post_name:string,\n   public post_content:string,\n   public  post_image:string,\n   public video_url:string,\n   public post_description:string\n\n  ){}\n\n  set_post_name(post_name){\n    this.post_name = post_name;\n  }\n\n  get_post_name(){\n    return this.post_name;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/video.ts","import { Component, ViewChild} from '@angular/core';\nimport { NavController, ToastController, ActionSheetController, LoadingController, NavParams, AlertController, IonicPage } from 'ionic-angular';\n\n\nimport { NgForm } from '@angular/forms';\nimport { AuthProvider } from '../../providers/auth-provider';\n\n\nimport {  AngularFireDatabase } from 'angularfire2/database';\n\nimport { Camera } from '@ionic-native/camera';\n\nimport 'firebase/storage';\n\n\nimport { AngularFireAuth } from 'angularfire2/auth';\n\nimport { VideosServices} from '../../providers/videos-services';\n\nimport { Storage } from '@ionic/storage';\n\n@IonicPage({\n\tname: 'edit-videos',\n  segment: 'edit-videos'\n  }) \n@Component({\n  selector: 'page-add-edit-videos',\n  templateUrl: 'add-edit-videos.html'\n})\nexport class AddEditVideoPage   {\n\n @ViewChild('fileInput') fileInput;\n\n  \n\n post:any;\n  post_name:any;\n  post_content:any;\n  post_uid:any;\nvideo_url:any;\n  post_image:any;\n  post_description:any;\n\n  downloadURL:any;\n  title:any;\n\n\n\n   email2 :any;\n\n  captureDataUrl:any;\n\n\n  actionAddPhoto:any;\n\n  is_edit:any;\n\n  \n  user_notificacao: boolean;\n\n  loading:any;\n  \n  constructor(public navCtrl: NavController,\n    public navParams:NavParams,\n     public toastCtrl:ToastController , \n     private camera: Camera,\n    public dbFire: AngularFireDatabase,\n    public navParms : NavParams,\n    public authProvider:AuthProvider,\n    public actionSheetCtrl: ActionSheetController,\n  public afAuth:AngularFireAuth,\n  public loadingCtrl: LoadingController,\npublic alertCtrl:AlertController,\npublic videoService:VideosServices,\npublic storage: Storage\n) {\n\n   \n\n  }\n\n\n  ionViewDidLoad(){\n\n\n\n   this.post_image = \"assets/imgs/noImage.jpg\";\n\n    this.is_edit = this.navParms.get(\"is_edit\");\n    if(this.is_edit ==true){\n\n        \n      this.title = \"Edit \";\n\n\n\n      this.post = this.navParams.get('post');\n      this.post_name =  this.post.post_name;\n      this.post_content = this.post.post_content;\n      this.video_url = this.post.video_url;\n      this.post_description = this.post.post_description;\n      this.post_uid = this.post.post_uid;\n\n      this.post_image =   this.post.post_image;\n      if(this.post_image==\"\"){\n        this.post_image = \"assets/imgs/noImage.jpg\";\n      }\n\n      \n\n\n    }else{\n\n      this.title = \"Add Video\";\n        this.post_uid = this.dbFire.database.ref().child('videos/').push().key;\n    \n\n        \n\n    }\n\n    \n\n\n\n    this.loading = this.loadingCtrl.create({\n\t\t\tcontent: 'Por favor, aguarde...',\n\t\t\tduration: 5000\n    });\n    \n  \n\n    \n  }\n\n  createToast(message){\n    this.toastCtrl.create({\n      message: message,\n      duration: 5000,\n      position: 'middle'\n      }).present();\n  }\n  \n\n\n\n\n  createActionAddPhoto(){\n    this.actionAddPhoto = this.actionSheetCtrl.create({\n      title: 'Tirar Foto',\n      buttons: [\n        {\n          text: 'Escolher uma foto da galeria',\n          handler: () => {\n            this.getPicture(this.camera.PictureSourceType.PHOTOLIBRARY);\n          }\n        },\n        {\n          text: 'Tirar uma foto da Camera',\n          handler: () => {\n            this.getPicture(this.camera.PictureSourceType.CAMERA);\n          }\n        },\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n  \n    this.actionAddPhoto.present();\n  }\n\n    \naddPhoto() {\n  \n\n  this.createActionAddPhoto();\n\n}\n\n\n\n\n getPicture(sourceType) {\n\n\n        if (Camera['installed']()) {\n          this.camera.getPicture({\n            destinationType: this.camera.DestinationType.DATA_URL,\n            encodingType: this.camera.EncodingType.JPEG,\n            mediaType: this.camera.MediaType.PICTURE,\n            sourceType: sourceType,\n            targetWidth: 100,\n            targetHeight: 100,\n             quality: 90,\n             allowEdit: true,\n             correctOrientation:true\n          }).then((imageData) => {\n\n          \n\n            this.captureDataUrl = 'data:image/jpeg;base64,' + imageData;\n            this.post_image =  'data:image/jpeg;base64,' + imageData;\n            this.actionAddPhoto.dismiss();\n            \n            \n          }, (error) => {\n            this.createToast(error);\n          })\n        } else {\n          this.fileInput.nativeElement.click();\n          // go to processWebImage method. //  ir para o método processWebImage\n\n        }\n   \n  }\n\n\n\n\n\n  processWebImage(event) {\n  \n    let reader = new FileReader();\n    reader.onloadend = (readerEvent) => {\n\n        let imageData = (readerEvent.target as any).result;\n\n          this.captureDataUrl = imageData;\n        this.post_image = imageData;\n\n        this.actionAddPhoto.dismiss();\n\n    }\n\n    reader.readAsDataURL(event.target.files[0]);\n\n  }\n\n\n  saveImageFirebase(imageData){\n\n    this.videoService.uploadPhotoStorage(imageData,this.post_uid).then(result=>{\n\n      this.videoService.updatePhotoDb(result.downloadURL,this.post_uid).then(result=>{\n\n\n        this.loading.dismiss();\n        this.createToast(\"Informação atualizada com sucesso.\");\n         this.navCtrl.setRoot(\"home\");\n\n\n        }).catch(error=>{\n          this.loading.dismiss();\n          this.createToast(error);\n        });\n\n\n    }).catch(error=>{\n      this.loading.dismiss();\n      this.createToast(error);\n    });\n\n  }\n\n\n\n\n  salvarEdit(form: NgForm){\n\n    \n    let  post_name = form.value.post_name;\n    let  video_url = form.value.video_url;\n    let post_content = form.value.post_content;\n    let descricao = form.value.post_description;\n\n    this.loading.present();\n\n    this.videoService.savePost(\n      this.post_uid,\n      post_name,\n      post_content,\n      this.post_image,\n      video_url,     \n      descricao\n\n    ).then(result=>{\n      \n\n      if(this.captureDataUrl!=undefined){\n        this.saveImageFirebase( this.post_image);\n      }else{\n        this.loading.dismiss();\n        this.createToast(\"Informação atualizada com sucesso.\");\n       this.navCtrl.setRoot(\"home\");\n      }\n\n\n\n    }).catch(error=>{\n      this.loading.dismiss();\n      this.createToast(error);\n    });\n\n\n\n  }\n\n\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-edit-videos/add-edit-videos.ts"],"sourceRoot":""}