{"version":3,"sources":["../../src/pages/category-shows/category-shows.module.ts","../../src/providers/shows-services.ts","../../src/models/show.ts","../../src/pages/category-shows/category-shows.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ShowsPage } from './category-shows';\nimport { ShowsServices } from '../../providers/shows-services';\n\n@NgModule({\n    declarations: [\n      ShowsPage,\n    ],\n    imports: [\n      IonicPageModule.forChild(ShowsPage),\n    ],\n    entryComponents: [\n      ShowsPage\n    ],\n    providers: [\n      ShowsServices\n    ]\n  })\n  export class ShowsPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/category-shows/category-shows.module.ts","import { Injectable } from '@angular/core';\n\nimport * as firebase from 'firebase/app';\n\nimport {  AngularFireDatabase } from 'angularfire2/database';\n\n\n\nimport { Show } from '../models/show';\n\nimport { Utils } from '../utils/utils';\n\n// songkick: http://api.songkick.com/api/3.0/artists/8539349/calendar.json?apikey=bsAn7eoPHzpBhICh\n\n\n\nimport {  Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class ShowsServices {\n\n\n  constructor( private dbFire:AngularFireDatabase,public utils:Utils,\n  public http:Http ){\n\n   }\n\n    listar(){\n      var today = 'YYYY-MM-DD';\n      today = this.utils.getDataAtual;\n       return  this.dbFire.list('/shows/' , ref => ref.orderByChild('post_dia').startAt(today)).valueChanges().map((array)=>array) \n    }\n\n\n\n    getShowsSongkick() {\n\n      let apiSongkick = 'bsAn7eoPHzpBhICh';\n      let idArtistaSongkick = '8539349';\n\n      return this.http.get('http://api.songkick.com/api/3.0/artists/' + idArtistaSongkick + '/calendar.json?apikey=' + apiSongkick )\n       .map(res =>  {\n\n\n        console.log(res.json());\n        \n        return res.json().resultsPage.results['event'];\n      })\n    }\n\n\n\n  savePost(\n    post_nome,\n    post_conteudo,\n    post_image,\n    post_dia,\n    post_local,\n    post_horario,\n    post_cidade,\n    post_estado,\n    post_uid,\n    link_ingresso\n  ){\n\n    //let post_dia_new =   post_dia[8] +  post_dia[9] + \"/\" +   post_dia[5] +   post_dia[6] + \"/\"+\n   // post_dia[0] +    post_dia[1] +   post_dia[2] +   post_dia[3] ;\n\n\n    return this.dbFire.database.ref(\"shows/\"  + post_uid)\n    .update(  new Show(\n      post_uid,\n      post_nome,\n        post_conteudo,\n        post_image,\n        post_dia,\n        post_local,\n        post_horario,\n        post_cidade,\n        post_estado,\n        link_ingresso\n        \n       ));\n    \n\n\n  }\n\n\n\n\n  removePost( post_uid){\n\n    return this.dbFire.list(\"/shows/\" +  post_uid).remove();\n    \n    \n  }\n\n\n  uploadPhotoStorage(post_image , post_uid){\n\n\n    let storageRef = firebase.storage().ref();\n\n    const imageRef = storageRef.child('images/shows/'+post_uid+'.jpg');\n\n    return  imageRef.putString(post_image, firebase.storage.StringFormat.DATA_URL);\n\n  }\n\n  removePhotoStorage(post_uid){\n    let storageRef = firebase.storage().ref();\n\n    return storageRef.child('images/shows/'+post_uid+'.jpg').delete();\n\n\n  }\n  \n  updatePhotoDb(post_image , post_uid){\n\n   return  this.dbFire.database.ref(\"shows/\"+  post_uid).update({ \n      post_image: post_image\n     });\n\n  }\n\n\n\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/shows-services.ts","\nexport  class Show {\n\n  \n\n   constructor(\n   public post_uid:string,\n    public post_name:string,\n   public post_content:string,\n   public  post_image:string,\n   public post_dia:string,\n   public post_local:string,\n   public post_horario:string,\n   public post_cidade:string,\n   public post_estado:string,\n   public link_ingresso:string\n\n  ){}\n\n  set_post_name(post_name){\n    this.post_name = post_name;\n  }\n\n  get_post_name(){\n    return this.post_name;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/show.ts","import { Component } from '@angular/core';\nimport { NavController, IonicPage } from 'ionic-angular';\n\n\nimport { ShowsServices} from '../../providers/shows-services';\n\nimport { Storage } from '@ionic/storage';\n\n@IonicPage({\n  name: 'shows',\n  segment: 'shows'\n  }) \n@Component({\n  selector: 'page-shows-category',\n  templateUrl: 'category-shows.html'\n})\nexport class ShowsPage {\n\n  posts:any;\n  shows:any;\n\n  is_admin:any =true;\n\n  constructor(public navCtrl: NavController,\n     public showServices:ShowsServices,\n    public storage:Storage) {\n  }\n\n  ionViewWillEnter() {\n\n    this.user_is_admin();\n    \n    \n    this.posts =  this.showServices.listar();\n\n    this.shows = this.showServices.getShowsSongkick();\n     \n  }\n\n  user_is_admin(){\n    this.storage.get('is_admin').then((is_admin) => {\n      if(is_admin==true)\n        this.is_admin = true;\n      });\n  }\n\n\n\n\n  irParaSingle(event, post){\n    this.navCtrl.push(\"show\", { \n      'id':post.post_uid,\n      post:post\n    });\n  }\n\n  irParaSingleSongKick(event, show){\n    this.navCtrl.push(\"show\", { \n      'id':show.id,\n      show:show\n    });\n  }\n\n  irParaAdd(){\n    this.navCtrl.push(\"edit-shows\");\n  }\n\n\ngetMonthName(monthNum) :string{\n\n  switch(monthNum){\n      case \"01\": return  \"JAN\";\n      case \"02\": return  \"FEV\";\n      case \"03\": return  \"MAR\";\n      case \"04\": return  \"ABR\";\n      case \"05\": return  \"MAI\";\n      case \"06\": return  \"JUN\"; \n      case \"07\": return  \"JUL\";\n      case \"08\": return  \"AGO\";\n      case \"09\": return  \"SET\";\n      case \"10\": return  \"OUT\";\n      case \"11\": return  \"NOV\";\n      case \"12\": return  \"DEZ\";\n       \n          \n      }\n      \n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/category-shows/category-shows.ts"],"sourceRoot":""}