{"version":3,"sources":["../../src/pages/category-musicas/category-musicas.module.ts","../../src/providers/musicas-services.ts","../../src/models/musica.ts","../../src/pages/category-musicas/category-musicas.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CategoryMusicasPage } from './category-musicas';\nimport { MusicasServices } from '../../providers/musicas-services';\n\n@NgModule({\n    declarations: [\n      CategoryMusicasPage,\n    ],\n    imports: [\n      IonicPageModule.forChild(CategoryMusicasPage),\n    ],\n    entryComponents: [\n      CategoryMusicasPage\n    ], providers:[\n      MusicasServices\n    ]\n  })\n  export class CategoryMusicasPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/category-musicas/category-musicas.module.ts","import { Injectable } from '@angular/core';\n\nimport * as firebase from 'firebase/app';\n\nimport {  AngularFireDatabase } from 'angularfire2/database';\n\n\n\nimport { Musica } from '../models/musica';\n\n\n\n@Injectable()\nexport class MusicasServices {\n\n \n\n  constructor(\n   private dbFire:AngularFireDatabase){\n\n   }\n\n    listar(){\n     \n       return this.dbFire.list('musicas').valueChanges();\n    }\n\n\n\n\n    savePost(\n      post_uid,\n      post_nome,\n      musica_url,\n      post_image,\n      post_artista\n     \n    ){\n  \n      return this.dbFire.database.ref(\"musicas/\"  + post_uid)\n      .update(  new Musica(\n        post_uid,\n         post_nome,\n          musica_url,\n          post_image,\n          post_artista\n         ));\n      \n  \n  \n    }\n  \n\n\n\n\n  removePost( post_uid){\n\n    return this.dbFire.list(\"/musicas/\" +  post_uid).remove();\n    \n    \n  }\n\n\n  uploadPhotoStorage(post_image , post_uid){\n\n\n    let storageRef = firebase.storage().ref();\n\n    const imageRef = storageRef.child('images/musicas/'+post_uid+'.jpg');\n\n    return  imageRef.putString(post_image, firebase.storage.StringFormat.DATA_URL);\n\n  }\n\n  removePhotoStorage(post_uid){\n    let storageRef = firebase.storage().ref();\n\n    return storageRef.child('images/musicas/'+post_uid+'.jpg').delete();\n\n\n  }\n  \n  updatePhotoDb(post_image , post_uid){\n\n   return  this.dbFire.database.ref(\"musicas/\"+  post_uid).update({ \n      post_image: post_image\n     });\n\n  }\n\n\n\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/musicas-services.ts","\nexport  class Musica {\n\n  \n\n   constructor(\n   public post_uid:string,\n    public post_name:string,\n    public musica_url:string,\n    public  post_image:string,\n    public post_artista:string\n  ){}\n\n  set_post_name(post_name){\n    this.post_name = post_name;\n  }\n\n  get_post_name(){\n    return this.post_name;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/musica.ts","import { Component } from '@angular/core';\nimport { NavController, AlertController, ModalController, NavParams, IonicPage } from 'ionic-angular';\n\nimport { Media, MediaObject} from '@ionic-native/media';\n\nimport { MusicasServices} from '../../providers/musicas-services';\n\n\nimport { Events } from 'ionic-angular';\n\nlet file: MediaObject;\n\n@IonicPage({\n\tname: 'musicas',\n  segment: 'musicas'\n  }) \n@Component({\n  selector: 'category-musicas',\n  templateUrl: 'category-musicas.html'\n})\nexport class CategoryMusicasPage {\n\n  posts:any;\n  \n  is_admin:any =true;\n\n  //playlists:any;\n\n  channelId:any;\n\n\n  habilitarPlayer = true;\n\n  constructor(public navCtrl: NavController,\n     public musicaServices:MusicasServices,\n    public alertCtrl:AlertController,\n  public modalCtrl:ModalController,\npublic navParms:NavParams,\npublic events: Events) {\n\n    \n     \n  }\n  ionViewDidLoad() {\n    this.posts =  this.musicaServices.listar();\n  }\n\n  abreAddMusicToPlaylist(post){\n\n      console.log(post);\n\n      let modal = this.modalCtrl.create(\"add-to-playlist\", { \n            post:post\n        } );\n      modal.present();\n\n  }\n\n// Play audio\n play(post) {\n  //faz tocar e abrir o player na hora\n  this.events.publish('musica:played', post.post_artista,  post.post_name, post.musica_url, true);\n}\n\n\n\n  irParaAdd(){\n    \n    this.modalCtrl.create(\"edit-musicas\" ).present();\n  }\n\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/category-musicas/category-musicas.ts"],"sourceRoot":""}