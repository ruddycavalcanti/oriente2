{"version":3,"sources":["../../src/pages/register/register.module.ts","../../src/providers/pontos-services.ts","../../src/models/ponto.ts","../../src/pages/register/register.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RegisterPage } from './register';\nimport { PontosServices } from '../../providers/pontos-services';\n\n\n\n@NgModule({\n  declarations: [\n    RegisterPage\n  ],\n  imports: [\n    IonicPageModule.forChild(RegisterPage),\n\n  ],\n  entryComponents: [\n    RegisterPage\n  ],\n  providers: [\n     PontosServices\n\n  ]\n})\nexport class RegisterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.module.ts","import { Injectable } from '@angular/core';\n\nimport {  AngularFireDatabase } from 'angularfire2/database';\n\n\n\nimport { Ponto } from '../models/ponto';\n//import { Utils } from '../utils/utils';\n\n\n\n@Injectable()\nexport class PontosServices {\n\n \n\n  constructor( private dbFire:AngularFireDatabase\n    //, public utils:Utils\n  ){\n\n   }\n\n    listar(){\n       return this.dbFire.list('pontos').valueChanges();\n    }\n\n\n\n  savePost(\n    post_author_id,\n    post_author_email,\n    pontos_totais,\n    pontos_atuais\n  ){\n\n   //let post_dia  = this.utils.getTime;\n\n    //let post_dia_new =   post_dia[8] +  post_dia[9] + \"/\" +   post_dia[5] +   post_dia[6] + \"/\"+  post_dia[0] +    post_dia[1] +   post_dia[2] +   post_dia[3] ;\n\n\n    return this.dbFire.database.ref(\"pontos/\"  + post_author_id)\n    .update(  new Ponto(\n      post_author_email,\n      //post_dia,\n      post_author_id,\n      pontos_totais,\n      pontos_atuais\n       ));\n       \n\n\n  }\n\n\n\n\n  updatePontos(post_author_id, pontos_atuais,pontos_totais){\n    return this.dbFire.database.ref(\"pontos/\"  + post_author_id).update({\n      pontos_atuais:pontos_atuais,\n      pontos_totais:pontos_totais\n    })\n  }\n\n  updatePontosAtuais(post_author_id, pontos_atuais){\n    return this.dbFire.database.ref(\"pontos/\"  + post_author_id).update({\n      pontos_atuais:pontos_atuais\n    })\n  }\n  updatePontosTotais(post_author_id, pontos_totais){\n    return this.dbFire.database.ref(\"pontos/\"  + post_author_id).update({\n      pontos_totais:pontos_totais\n    });\n  }\n\n\n  getPontosTotais(post_author_id){\n    return this.dbFire.database.ref(\"pontos/\"  + post_author_id).once( \"value\").then(result=>{\n      return result.val().pontos_totais;\n    });\n  }\n\n  getPontosAtuais(post_author_id){\n    return this.dbFire.database.ref(\"pontos/\"  + post_author_id).once( \"value\").then(result=>{\n      return result.val().pontos_atuais;\n    });\n  }\n\n  getPontosAeT(post_author_id){\n    return this.dbFire.database.ref(\"pontos/\"  + post_author_id).once( \"value\");\n  }\n\n\n\n\n\n  removePost( post_uid){\n\n    return this.dbFire.list(\"/pontos/\" +  post_uid).remove();\n    \n    \n  }\n\n\n\n\n\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/pontos-services.ts","\nexport  class Ponto {\n\n  \n\n   constructor(\n   public post_author_email:string,\n    public post_author_id:string,\n   public pontos_totais:number,\n   public  pontos_atuais:number\n\n  ){}\n\n  set_post_author_id(post_author_id){\n    this.post_author_id = post_author_id;\n  }\n\n  get_post_author_id(){\n    return this.post_author_id;\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/ponto.ts","import { Component } from '@angular/core';\nimport { NavController, ToastController, AlertController, IonicPage } from 'ionic-angular';\n\nimport { NgForm } from '@angular/forms';\n\n//import { LoginPage } from '../../pages/login/login';\n//import { HomePage } from '../../pages/home/home';\n\nimport { AuthProvider } from '../../providers/auth-provider';\n\n\nimport {  AngularFireDatabase } from 'angularfire2/database';\nimport { PontosServices } from '../../providers/pontos-services';\n\n//import { FCM } from '@ionic-native/fcm';\n\n\n @IonicPage({\n\tname: 'registro',\n  segment: 'registro'\n  }) \n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html'\n})\nexport class RegisterPage {\n\n\tuser_tipo = \"assinante\";\n\tuser_notification   = true;\n\t//is_new_user  = true;\n\n\t\n\t\n\n\tconstructor(public navCtrl: NavController, \n\t\t public dbFire: AngularFireDatabase, \n\t\t public authProvider: AuthProvider, \n\t\t public toastCtrl: ToastController,\n\t\tpublic alertCtrl:AlertController,\n\t\tpublic pontoServices:PontosServices,\n\t\t//public fcm: FCM\n\t) {\n\n\t\t }\n\n\t\n\n\n\n  loginFacebook(){\n\n\tlet user_nome :\"\";\n\tlet user_email :\"\";\n\tlet user_image :\"\";\n\tlet user_uid:\"\";\n\n\n\tthis.authProvider.signInWithFacebook().then(result=>{\n\n\t\tif(result.displayName==undefined){ //if is on computer\n\t\t\tuser_uid = result.user.uid;\n\t\t\tuser_nome = result.user.displayName;\n\t\t\t user_image = result.user.photoURL;\n\t\t\t user_email = result.user.email;\n\t\t}else{ //if is on mobile or others\n\t\t\tuser_uid = result.uid;\n\t\t\tuser_nome = result.displayName;\n\t\t\tuser_image = result.photoURL;\n\t\t\tuser_email = result.email;\n\t\t}\n\n\t\tthis.authProvider.verificarInfoDatabase(user_email).then(snapshot=> {\n\n\t\t\t\n\t\t\n\t\t\tif(snapshot.val()!=undefined){ //ja estava registrado\n\t\t\t\tthis.navCtrl.setRoot(\"home\");\n\t\t\t}else{\n\t\t\t\tthis.registrar(user_nome,user_email, user_image, user_uid);\n\t\t\t}\n\n\t\t  }).catch(error => {\n\n\t\t\tthis.createToast(error);\n\t\t\n\t\t  });\n\n\t\t  \n\n\t});\n\t\n}\n\n\n\n\tloginGoogle(){\n\t\tthis.authProvider.signInWithGoogle().then(result=>{\n\n\t\t\tlet user_nome :\"\";\n\t\t\tlet user_email :\"\";\n\t\t\tlet user_image :\"\";\n\t\t\tlet user_uid:\"\";\n\n\t\n\t\t\tif(result.displayName==undefined){ //if is on computer\n\t\t\t\tuser_uid = result.user.uid;\n\t\t\t\t user_nome = result.user.displayName;\n\t\t\t\t user_email = result.user.email;\n\t\t\t\t user_image = result.user.photoURL;\n\t\n\t\t\t}else{\n\t\t\t\tuser_uid = result.uid;\n\t\t\t\tuser_nome = result.displayName;\n\t\t\t\t user_email = result.email;\n\t\t\t\t user_image = result.photoURL;\n\t\t\t}\n\n\n\t\tthis.authProvider.verificarInfoDatabase(user_email).then(snapshot=> {\n\n\t\t\n\t\t\tif(snapshot.val()!=undefined){  //ja estava registrado\n\t\t\t\tthis.navCtrl.setRoot(\"home\");\n\n\t\t\t}else{\n\t\t\t\tthis.registrar(user_nome,user_email, user_image, user_uid);\n\t\t\t}\n\n\t\t  }).catch(error => {\n\n\t\t\tthis.createToast(error);\n\t\t\n\t\t  });\n\n\n\n\t\t}).catch(error => {\n\t     });\n\n\n\t}\n\n\n\n  createUser(form: NgForm){\n\n\t\n\n\t\tlet user_nome = form.value.name;\n\t\tlet user_email = form.value.email;\n        let senha = form.value.password;\n\t\tlet user_uid =  this.dbFire.database.ref().child('users/').push().key;\n\t\tlet user_image = \"\";\n\t\n\n\t    this.authProvider.signInWithEmail(user_nome,user_email, senha).then(result=>{\n\n\t\t\tthis.registrar(user_nome,user_email, user_image, user_uid);\n\n\n\t\t}).catch(error=>{\n\t\t\tthis.createToast(error);\n\t\t})\n   }\n\n\n\n   registrar(user_nome,user_email,user_image,user_uid){\n\n\t\tlet isNewUser = true;\n\n\t\t/* this.fcm.subscribeToTopic('assinante');\n\t\tthis.fcm.getToken().then(token => {\n\t\t\t//backend.registerToken(token);\n\t\t\t//alert(token);\n\t\t}); */\n\n\t\tthis.authProvider.updateUserDatabase(\n\t\t\tuser_nome,\n\t\t\tuser_email,\n\t\t\tuser_image, \n\t\t\tuser_uid,\n\t\t\tthis.user_notification,\n\t\t\tthis.user_tipo\n\t\t\t).then(result=>{\n\t\t\t\tthis.navCtrl.setRoot(\"home\");\n\n\t\t\t\tif(isNewUser==true){\n\n\t\t\t\t\t\n\t\t\t\t\tthis.addPontosCriarConta(\n\t\t\t\t\t\tuser_uid,\n\t\t\t\t\t\tuser_email\n\t\t\t\t\t\t\n\t\t\t\t\t).then(result=>{\n\t\t\t\t\t\tthis.createToast(\"Sua conta foi criada com sucesso. Seja bem vindo!\");\n\n\t\t\t\t\t\tthis.ganhouPontos();\n\t\t\t\t\t}).catch(error=>{\n\t\t\t\t\t}); \n\t\t\t\t} \n\n\n\t\t\t}).catch(error=>{\n\t\t\t\tthis.createToast(error);\n\t\t});\n   }\n\n\n\n  \n   irParaLogin(){\n    this.navCtrl.push(\"login\");\n    \n  }\n\n\nganhouPontos() {\n\tlet alert = this.alertCtrl.create({\n\t  title: 'Parabéns!',\n\t  subTitle: 'Você ganhou 10 pontos e atingiu o nível 1.',\n\t  cssClass: 'alertPontos',\n\t  buttons: ['Fechar']\n\t});\n\talert.present();\n  }\n\n\naddPontosCriarConta( post_author_id, post_author_email){\n\t\n\tlet pontos_totais = 10;\n\tlet pontos_atuais = 10;\n\n\treturn this.pontoServices.savePost(\n\t\tpost_author_id,\n\t\tpost_author_email,\n\t\tpontos_totais,\n\t\tpontos_atuais\n\t);\n}\n\n  createToast(message){\n\tthis.toastCtrl.create({\n\t  message: message,\n\t  duration: 5000,\n\t  position: 'middle'\n\t  }).present();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts"],"sourceRoot":""}